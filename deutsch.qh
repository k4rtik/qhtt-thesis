U_f : Πa:qbit,b:qbit.∃f:(bit -> bit),x:bit,y:bit.
      {(a, b) =q |x,y⟩}
          (c, d) : (qbit⊗qbit)
      {(c, d) =q |x,y⊕f(x)⟩}

deutsch : ΠU_f.{⊤} r:bit { (r =c 0 ⇒ f(0) == f(1))
                           ∧ (r =c 1 ⇒ f(0) != f(1)) }
deutsch = circ (U_f) -> do
             a <- init 0
             b <- init 1
             apply H to a
             apply H to b
             (c, d) <- U_f (a, b)
             apply H to c
             r <- meas c
             return r
